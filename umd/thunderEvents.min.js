!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?module.exports=n():"function"==typeof define&&define.amd?define(n):(e="undefined"!=typeof globalThis?globalThis:e||self).ThunderEvents=n()}(this,(function(){"use strict";const e={title:"Venue",imageSrc:"",clickableAreas:[]},n={events:[],floorPlan:e},t="FAVORITE_EVENTS",a=async e=>{const n=JSON.parse(localStorage.getItem(t)||"[]");n.push(e);const a=JSON.stringify(n);return localStorage.setItem(t,a),n},r=async()=>JSON.parse(localStorage.getItem(t)||"[]"),o=()=>Promise.resolve({guide:n,addFavorite:a,getFavorites:r}),l=Date.now(),i={start:l,end:l+36e5,location:"(not provided)",name:"(no name)",host:"(not provided)",category:"(not provided)",description:"(no description)"},c={shape:"rect",coords:[],href:"#",alt:""},s={days:[],interval:60},d="50em",p=()=>{},g=e=>null===e?"null":"object"==typeof e?e.constructor.name.toLowerCase():typeof e,m=(e,n)=>{const t="string"===g(n),a="array"===g(n)&&n.every((e=>"string"===g(e)));if(!t&&!a)throw"`checkType()` expects either a string or array of strings in the second argument";return t?g(e)===n:a?n.some((n=>g(e)===n)):void 0},h=e=>m(e,"object"),u=(e,n=p,t={})=>{if(!h(e))throw"`useFallback()` expects an object in the first argument";if(!m(n,"function"))throw"`useFallback()` expects a function in the second argument";if(!h(t))throw"`useFallback()` expects an object in the third argument";return(a,r)=>{const o=e[r],l=h(a),i=l?a[r]:null,c=m(i,["undefined","null"]);const s=g(i),d=t[r],p=m(d,"array")?d:m(d,"string")?[d]:[],u=s!==g(o)&&!p.some((e=>e===s));if(!l||c||u){return n(l?c?"empty":"mismatch":"invalid",r),o}return i}},v=(e,n="object",t={})=>{if(!h(e))throw"You may only cast to custom object types";return a=>{if(!h(a))return e;const r=u(e,((t,r)=>{"invalid"===t?console.warn(`The provided ${n} is not a valid object.`):"mismatch"===t?console.warn(`The \`${r}\` field expected type \`${g(e[r])}\` but got \`${g(a[r])}\`.`):"empty"===t&&console.warn(`The provided ${n} did not have the \`${r}\` field.`)}),t);return Object.keys(e).reduce(((e,n)=>(e[n]=r(a,n),e)),{})}},f=(e={})=>{if("after"in e&&!m(e.after,["number","date"]))throw"The `after` field expects a number or date";if("before"in e&&!m(e.before,["number","date"]))throw"The `before` field expects a number or date";if("locations"in e&&!m(e.locations,"array"))throw"The `locations` field expects an array";if("search"in e&&!m(e.search,["string","regexp"]))throw"The `search` field expects a string or regular expression";return!0},b=(e,n)=>e.map(n).join(""),w=(e,n=15)=>{const t=new Date(e),a=Math.round(t.getMinutes()/n)*n;return t.setMinutes(a),t},y=e=>Number(e.toFixed()),$=(e,n=!1)=>n?["Sun","Mon","Tues","Wed","Thurs","Fri","Sat"][e]:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][e],S=e=>{const n=new Date(e);return{time:n.toLocaleTimeString("en-US",{timeStyle:"short"}),day:$(n.getDay()),date:n.toLocaleDateString()}},x=(e,...n)=>`this.getRootNode().host.${e}(${n.length?`\n  ${[...n].map((e=>"object"===g(e)?`\`${encodeURIComponent(JSON.stringify(e))}\``:"string"===g(e)?`\`${e}\``:String(e)))}\n`:"event"})`,k=({location:e,name:n,start:t})=>{const a=e=>e.replace(/[^a-zA-Z0-9]/g,""),r=new Date(t),o=`${r.toLocaleDateString()}-${r.toLocaleTimeString()}`;return`${a(e)}-${a(n)}-${a(o)}`},F=(e,n)=>{const t=e=>e?.normalize("NFD").replace(/\p{Diacritic}/gu,"").replace(/[^a-zA-Z0-9]/g,"").toLowerCase(),a=t(e),r=t(n);return-1!==r.search(a)||(-1!==a.search(r)||e.split(/\s+/g).some((e=>-1!==r.search(t(e)))))},D={_hasFetched:!1,get hasFetched(){return this._hasFetched},set hasFetched(e){return this._hasFetched=e,!1!==e&&(this.fetchQueue.forEach((e=>e())),!0)},fetchQueue:[],waitForFetch(){return new Promise((e=>{this.hasFetched?e():this.fetchQueue.push(e)}))},guide:n,addFavorite:a,removeFavorite:async e=>{const n=JSON.parse(localStorage.getItem(t)||"[]"),a=n.findIndex((({location:n,start:t,name:a})=>{const{location:r,start:o,name:l}=e;return n===r&&t===o&&a===l}));n.splice(a,1);const r=JSON.stringify(n);return localStorage.setItem(t,r),n},getFavorites:r,get locations(){return[...(this.guide?.events||[]).reduce(((e,n)=>m(n,"object")&&m(n.location,"string")?(e.add(n.location),e):e),new Set)]},get times(){const e=[...(this.guide?.events||[]).reduce(((e,n)=>m(n,"object")&&m(n.start,["number","date"])&&m(n.end,["number","date"])?(e.add(w(n.start)),e.add(w(n.end)),e):e),new Set)],n=new Date(Math.min(...e)),t=new Date(Math.max(...e)),a=e.reduce(((e,n)=>{if(15!==e){const t=n.getMinutes();30===t&&(e=30),15!==t&&45!==t||(e=15)}return e}),0),r=e=>({date:e,timeString:e.toLocaleTimeString("en-US",{timeStyle:"short"})}),o=e=>`${$(e.getDay())} ${e.toLocaleDateString()}`;let l={[o(n)]:[r(n)]},i=n;for(;i<t;){let n=null;Math.max(...e.filter((e=>e.getDate()===i.getDate())))===Number(i)?(n=new Date(e.find((e=>e>i))),l[o(n)]=[r(n)]):(n=new Date(i),n.setMinutes(n.getMinutes()+a),l[o(n)].push(r(n))),i=n}return{days:l,interval:a}}},T=async(e={})=>{if(await D.waitForFetch(),!h(e))throw"`getEvents()` expects an object in the first argument";const{include:n={},exclude:t={}}=e;f(n),f(t);const a={...e,include:{...n,after:n.after?Number(n.after):0,before:n.before?Number(n.before):1/0},exclude:{...t,after:t.after?Number(t.after):1/0,before:t.before?Number(t.before):0}},{include:r={},exclude:o={}}=a;return D.guide.events.filter((e=>!(e.start<r.after)&&(!(e.start>o.after)&&(!(e.end>r.before)&&(!(e.end<o.before)&&(!("locations"in r&&!contains(r.locations,e.location))&&((!("locations"in o)||!contains(o.locations,e.location))&&(!("search"in r&&!contains(e.name,r.search))&&(!("search"in o)||!contains(e.name,o.search))))))))))},O=async()=>(await D.waitForFetch(),D.locations),N=async()=>(await D.waitForFetch(),D.times),j=async e=>await D.addFavorite(e),z=async e=>await D.removeFavorite(e),L=async()=>await D.getFavorites();var E=Object.freeze({__proto__:null,init:async(n=o)=>{const t=await n(),{guide:a}=t;if(!h(t))throw"`init()` must return an object";if(!h(a))throw"The `guide` field expects an object";if("events"in a){if(!m(a.events,"array"))throw"The `guide.events` field expects an array";const e=v(i,"event",{start:"date",end:"date"});D.guide.events=a.events.map(e)}if("floorPlan"in a){if(!h(a.floorPlan))throw"The `guide.floorPlan` field expects an object";const n=v(e,"floor plan"),t=v(c,"clickable area"),r=n(a.floorPlan);D.guide.floorPlan={...r,clickableAreas:r.clickableAreas.map(t)}}if("addFavorite"in t){if(!m(t.addFavorite,"function"))throw"The `addFavorite` field expects a function";D.addFavorite=t.addFavorite}if("removeFavorite"in t){if(!m(t.removeFavorite,"function"))throw"The `removeFavorite` field expects a function";D.removeFavorite=t.removeFavorite}if("getFavorites"in t){if(!m(t.getFavorites,"function"))throw"The `getFavorites` field expects a function";D.getFavorites=t.getFavorites}D.hasFetched=!0},addFavorite:j,removeFavorite:z,getFavorites:L,getEvents:T,getLocations:O,getTimes:N,getFloorPlan:async()=>(await waitForFetch(),D.guide.floorPlan)});const B=e=>({...e,start:new Date(e.start),end:new Date(e.end)}),C=({events:e,spanState:n,date:t,interval:a,_location:r,sortBy:o,currentTime:l})=>{const i=e.find((e=>Number(e.start)===Number(t)&&e.location===r)),c=i||e.find((e=>Number(e.end)>Number(t)&&Number(e.start)<Number(l)&&e.location===r)),s=!!c&&c.start<l,d=c?c.name:"",p=c?"data":"data-empty",g=c?y((c.end-(e=>s?l:e.start)(c))/1e3/60):0,m=g?y(g/a):1,h="location"===o?n[r]>0:n[r]>1;return h?--n[r]:m>1&&(n[r]=m),{eventName:d,cellType:p,span:m,blank:h,event:c,hasStarted:s}},A=({activeLocation:e,events:n,times:t,locations:a,sortBy:r,activeDay:o})=>{const{days:l,interval:i}=t||s,c={},d=(n,t)=>e===n?t:"",p=l[o];return`\n    <div class="pg-table-wrapper">\n      <table class="pg-table">\n        <thead class="pg-header">\n          <tr class="pg-row">\n            <td class="pg-cell-wrapper pg-cell-wrapper--corner" onclick="${x("toggleSortDialog",!0)}">\n              <div class="pg-cell pg-cell--corner"><i class="pg-more-icon" title="Options..."></i> <span class="pg-corner-text">${o}</span></div>\n            </td>\n            ${b(a,(e=>`\n              <th class="pg-cell-wrapper pg-cell-wrapper--column-header ${d(e,"pg-cell-wrapper--column-header-active")}">\n                <div class="pg-cell pg-cell--column-header ${d(e,"pg-cell--column-header-active")}">${e}</div>\n              </th>\n            `))}\n          </tr>\n        </thead>\n        <tbody class="pg-body">\n          ${b(p,(({date:e,timeString:t})=>`\n            <tr class="pg-row">\n              <th class="pg-cell-wrapper pg-cell-wrapper--row-header">\n                <div class="pg-cell pg-cell--row-header">${t}</div>\n              </th>\n              ${b(a,(t=>{const{eventName:a,cellType:o,span:l,blank:s,event:p}=C({events:n,spanState:c,date:e,interval:i,_location:t,sortBy:r});return s?"":`\n                  <td\n                    class="pg-cell-wrapper pg-cell-wrapper--${o} ${d(t,`pg-cell-wrapper--${o}-active`)}"\n                    rowspan="${l}"\n                    id="${p?k(p):""}"\n                    ${p?`onclick="${x("openEventDialog",p)}"`:""}\n                  >\n                    <div class="pg-cell pg-cell--${o} ${d(t,`pg-cell--${o}-active`)}">${a}</div>\n                  </td>\n                `}))}\n            </tr>\n          `))}\n        </tbody>\n      </table>\n    </div>\n  `},I=({events:e,times:n,locations:t,sortBy:a,activeTime:r,activeDay:o})=>{const{days:l,interval:i}=n||s,c={},d=l[o],p=w(Date.now(),i),{day:g,date:m,time:h}=S(p),u={now:d.filter((({date:e})=>e>=p)),nowOnly:d.filter((({date:e})=>e===p)),time:d.filter((({date:e})=>e>=r)),allTime:d}[a],v=u.length?u:[{date:p,timeString:h}],f=u.length?o:`${g} ${m}`,y={now:p,nowOnly:p,time:r,allTime:new Date(0)}[a];return`\n    <div class="pg-table-wrapper">\n      <table class="pg-table">\n        <thead class="pg-header">\n          <tr class="pg-row">\n            <td class="pg-cell-wrapper pg-cell-wrapper--corner" onclick="${x("toggleSortDialog",!0)}">\n              <div class="pg-cell pg-cell--corner"><i class="pg-more-icon" title="Options..."></i> <span class="pg-corner-text">${f}</span></div>\n            </td>\n            ${b(v,(({date:e,timeString:n})=>`\n              <th class="pg-cell-wrapper pg-cell-wrapper--column-header pg-cell-wrapper--column-header-time ${e===p?"pg-cell-wrapper--column-header-active-time":""}">\n                <div class="pg-cell pg-cell--column-header pg-cell--column-header-time">\n                  <span>${n}</span>\n                  <div>${e===p?"(Current Time)":""}</div>\n                </div>\n              </th>\n            `))}\n          </tr>\n        </thead>\n        <tbody class="pg-body">\n          ${b(t,(n=>`\n            <tr class="pg-row">\n              <th class="pg-cell-wrapper pg-cell-wrapper--row-header pg-cell-wrapper--row-header-time" onclick="${x("toggleHeaders")}">\n                <div class="pg-cell pg-cell--row-header">${n}</div>\n              </th>\n              ${b(v,(({date:t})=>{const{eventName:r,cellType:o,span:l,blank:s,event:d,hasStarted:p}=C({events:e,spanState:c,date:t,interval:i,_location:n,sortBy:a,currentTime:y});return s?"":`\n                  <td\n                    class="pg-cell-wrapper pg-cell-wrapper--${o} pg-cell-wrapper--${o}-time ${p?"pg-cell-wrapper--overflow":""}"\n                    colspan="${l}"\n                    id="${d?k(d):""}"\n                    ${d?`onclick="${x("openEventDialog",d)}"`:""}\n                  >\n                    <div class="pg-cell pg-cell--${o} pg-cell--${o}-time">${r}</div>\n                  </td>\n                `}))}\n            </tr>\n          `))}\n        </tbody>\n      </table>\n    </div>\n  `},M=({favorites:e})=>`\n  <div class="pg-table-wrapper">\n    <table class="pg-table">\n      <thead class="pg-header">\n        <tr class="pg-row">\n          <td class="pg-cell-wrapper pg-cell-wrapper--corner" onclick="${x("toggleSortDialog",!0)}">\n            <div class="pg-cell pg-cell--corner"><i class="pg-more-icon" title="Options..."></i> Favorites</div>\n          </td>\n        </tr>\n      </thead>\n      <tbody class="pg-body">\n        ${0===e.length?'\n              <tr class="pg-row">\n                <td class="pg-cell-wrapper pg-cell-wrapper--data pg-cell-wrapper--data-favorite">\n                  <div class="pg-cell pg-cell--data pg-cell--data-favorite">You have no favorites.</div>\n                </td>\n              </tr>\n            ':b(e,(e=>{const{start:n,end:t,name:a,location:r}=e,o=S(n),l=S(t),i=`${o.day} ${o.date}`,c=o.time,s=l.time;return`\n              <tr class="pg-row">\n                <td class="pg-cell-wrapper pg-cell-wrapper--data pg-cell-wrapper--data-favorite" onclick="${x("openEventDialog",e)}">\n                  <div class="pg-cell pg-cell--data pg-cell--data-favorite">\n                    <span class="pg-search-result-name">${a}</span>\n                    <span class="pg-inline-result-details">${i}</span>\n                    <span class="pg-search-result-details">\n                      <span class="pg-inline-text">${c}</span>\n                      <span class="pg-inline-text">- ${s}</span>\n                      <span class="pg-inline-text"> @ ${r}</span>\n                    </span>\n                  </div>\n                </td>\n              </tr>\n            `}))}\n      </tbody>\n    </table>\n  </div>\n`,_=({searchResults:e})=>`\n  <div class="pg-table-wrapper">\n    <table class="pg-table">\n      <thead class="pg-header">\n        <tr class="pg-row">\n          <td class="pg-cell-wrapper pg-cell-wrapper--corner" onclick="${x("toggleSortDialog",!0)}">\n            <div class="pg-cell pg-cell--corner"><i class="pg-more-icon" title="Options..."></i> Search Results</div>\n          </td>\n        </tr>\n      </thead>\n      <tbody class="pg-body">\n        ${0===e.length?'\n              <tr class="pg-row">\n                <td class="pg-cell-wrapper pg-cell-wrapper--data pg-cell-wrapper--data-search">\n                  <div class="pg-cell pg-cell--data pg-cell--data-search">No results found.</div>\n                </td>\n              </tr>\n            ':b(e,(e=>{const{start:n,end:t,name:a,location:r}=e,o=S(n),l=S(t),i=`${o.day} ${o.date}`,c=o.time,s=l.time;return`\n              <tr class="pg-row">\n                <td class="pg-cell-wrapper pg-cell-wrapper--data pg-cell-wrapper--data-search" onclick="${x("openEventDialog",e)}">\n                  <div class="pg-cell pg-cell--data pg-cell--data-search">\n                    <span class="pg-search-result-name">${a}</span>\n                    <span class="pg-inline-result-details">${i}</span>\n                    <span class="pg-search-result-details">\n                      <span class="pg-inline-text">${c}</span>\n                      <span class="pg-inline-text">- ${s}</span>\n                      <span class="pg-inline-text"> @ ${r}</span>\n                    </span>\n                  </div>\n                </td>\n              </tr>\n            `}))}\n      </tbody>\n    </table>\n  </div>\n`;class R extends HTMLElement{constructor(){super();const e=this;e.root=e.attachShadow({mode:"open"}),e.locations=[],e.events=[],e.times=s,e.activeDay="",e.activeLocation="",e.activeEvent=B(i),e.sortDialogOpen=!1,e.eventDialogOpen=!1,e.sortBy="location",e.favorites=[],e.currentSearch="",e.searchResults=[],e.render({loading:!0}),O().then((async n=>{e.events=await T(),e.times=await N(),e.favorites=await L(),e.locations=n,e.activeLocation=n[0];const{days:t}=e.times||s;e.activeDay=Object.keys(t)[0];const a=t[e.activeDay][0].date,{date:r,time:o}=S(a);e.activeTime=new Date(`${r} ${o}`),e.render()}))}async addFavorite(e){const n=decodeURIComponent(e),t=JSON.parse(n);return this.favorites.push(t),this.render(),await j(t)}async removeFavorite(e){const n=this,t=decodeURIComponent(e),a=JSON.parse(t),r=n.favorites.findIndex((({location:e,start:n,name:t})=>{const{location:r,start:o,name:l}=a;return e===r&&n===o&&t===l}));return n.favorites.splice(r,1),n.render(),await z(a)}toggleHeaders({target:e}){const n=this.root.querySelectorAll(".pg-cell-wrapper--row-header"),t="pg-cell-wrapper--row-header-collapsed",a=e.classList.contains(t)?"remove":"add";for(const e of n)console.log(a),e.classList[a](t);this.root.querySelector(".pg-cell-wrapper--corner").classList[a]("pg-cell-wrapper--corner-collapsed")}toggleSortDialog(e){const n="true"===e||!!e;this.sortDialogOpen=n,this.render()}openEventDialog(e){const n=this,t=decodeURIComponent(e),a=JSON.parse(t);n.activeEvent=B(a),n.eventDialogOpen=!0,n.render()}closeEventDialog(){const e=this;e.eventDialogOpen=!1,e.render();const n=e.root.getElementById(k(e.activeEvent));n&&n.scrollIntoView()}selectActiveLocation(e){const n=this;n.sortBy="location",n.activeLocation=e,n.sortDialogOpen=!1,n.render()}selectActiveDay(e){const n=this,t=n.activeDay=e.target.value,a=n.activeTime.toLocaleTimeString();n.activeTime=new Date(`${t} ${a}`)}selectActiveTime({target:e}){const n=this;e.min>e.value&&(e.value=e.min),e.max<e.value&&(e.value=e.max);const{interval:t}=n.times||s,[a,r]=e.value.split(":"),o=Math.round(r/t)*t,l=1===String(o).length?`0${o}`:o;e.value=`${a}:${l}`;const{activeDay:i}=n,c=e.value;n.activeTime=new Date(`${i} ${c}`)}selectSortBy(e){const n=this;n.sortBy=e,n.sortDialogOpen=!1,n.render()}changeSearch({target:e}){this.currentSearch=e.value}search(e){e.preventDefault();const n=this,{currentSearch:t,events:a}=n;n.searchResults=a.filter((e=>F(t,e.name)||F(t,e.location)||F(t,e.host)||F(t,e.category)||F(t,e.description))),n.searchResults.sort(((e,n)=>{const a=F(t,e.name),r=F(t,n.name);return!a&&r?1:a&&!r?-1:0})),n.sortBy="search",n.render()}render({loading:e}={}){const n=this;(e=>{let n=e.childNodes.length;for(;n--;)e.removeChild(e.lastChild)})(n.root);const{css:t,breakpoint:a}=n.dataset,r=t||(e=>`\n  :host {\n\n    /* general fonts */\n    --font: inherit;\n    --font-secondary: var(--font);\n\n    /* specific fonts */\n    --font-header: var(--font);\n    --font-content: var(--font-secondary);\n    --font-column-header: var(--font-header);\n    --font-row-header: var(--font-header);\n\n    /* padding */\n    --padding-cell: 1rem 2rem;\n    --padding-header: var(--padding-cell);\n    --padding-column-header: var(--padding-header);\n    --padding-row-header: var(--padding-header);\n\n    /* general colors */\n    --color-primary: lightsteelblue;\n    --color-primary-contrast: black;\n    --color-secondary: steelblue;\n    --color-secondary-contrast: white;\n    --color-tertiary: midnightblue;\n\n    /* specific colors */\n    --color-background: var(--color-tertiary);\n    --color-cell: var(--color-primary);\n    --color-empty: transparent;\n    --color-content: var(--color-primary-contrast);\n    --color-header: var(--color-secondary);\n    --color-header-content: var(--color-secondary-contrast);\n    --color-column-header: var(--color-header);\n    --color-column-header-content: var(--color-header-content);\n    --color-row-header: var(--color-header);\n    --color-row-header-content: var(--color-header-content);\n    --color-corner: var(--color-header);\n    --color-corner-content: var(--color-header-content);\n  }\n\n  /* remove browser defaults so fonts can be fully customized */\n  :host, button, input {\n    font-family: var(--font-secondary);\n    font-size: inherit;\n  }\n\n  .pg-search-bar {\n    background-color: var(--color-background);\n    display: grid;\n    gap: 0.2rem;\n    grid-template-columns: 1fr auto;\n    margin: 0;\n    padding: 0.2rem 0.2rem 0;\n  }\n  .pg-search-icon {\n    border: 0.2rem solid;\n    border-radius: 50%;\n    display: block;\n    height: 0.8rem;\n    position: relative;\n    transform: translate(-0.15rem, -0.1rem);\n    width: 0.8rem;\n  }\n  .pg-search-icon:after {\n    background-color: var(--color-content);\n    bottom: -0.2rem;\n    content: '';\n    display: block;\n    height: 0.2rem;\n    width: 0.5rem;\n    position: absolute;\n    right: -0.4rem;\n    transform: rotate(45deg);\n  }\n  .pg-table-wrapper {\n    overflow: auto;\n    max-width: 100%;\n    margin-bottom: 1rem;\n    position: relative;\n  }\n  .pg-table {\n    background-color: var(--color-background);\n    width: 100%;\n  }\n  .pg-cell-wrapper {\n    background-color: var(--color-cell);\n    font-family: var(--font-content);\n    padding: var(--padding-cell);\n    position: relative;\n    text-align: center;\n  }\n  .pg-cell-wrapper--overflow:before {\n    content: '\\2039';\n    font-size: 2.5rem;\n    position: absolute;\n    left: 0;\n    top: 0;\n    bottom: 0;\n    margin: auto;\n    line-height: 2.5rem;\n  }\n  .pg-cell-wrapper--corner {\n    background-color: var(--color-corner);\n    color: var(--color-corner-content);\n    cursor: pointer;\n  }\n  .pg-cell-wrapper--row-header {\n    background-color: var(--color-row-header);\n    color: var(--color-row-header-content);\n    font-family: var(--font-row-header);\n    padding: var(--padding-row-header);\n    text-align: right;\n  }\n  .pg-cell-wrapper--row-header,\n  .pg-cell-wrapper--corner {\n    border-right: 0.1rem solid var(--color-background);\n    left: 0;\n    position: sticky;\n    width: 0; /* columns size to the minimum width */\n    z-index: 1;\n  }\n  .pg-cell--corner,\n  .pg-cell--row-header {\n    width: 9rem;\n  }\n  .pg-cell--row-header {\n    pointer-events: none;\n    user-select: none;\n  }\n  .pg-cell--data {\n    position: sticky;\n    left: 14rem;\n    margin: auto;\n    width: fit-content;\n    z-index: 0;\n  }\n  .pg-cell--data-search,\n  .pg-cell--data-favorite {\n    display: grid;\n    left: 0;\n    justify-content: center;\n    margin: auto;\n  }\n  .pg-search-result-name {\n    font-weight: bold;\n    padding-bottom: 0.8rem;\n  }\n  .pg-inline-text {\n    display: inline-block;\n  }\n  .pg-cell--corner {\n    align-items: center;\n    display: grid;\n    gap: 0.5rem;\n    grid-template-columns: auto auto;\n    justify-content: center;\n    margin: auto;\n  }\n  .pg-cell-wrapper--column-header {\n    background-color: var(--color-column-header);\n    color: var(--color-column-header-content);\n    font-family: var(--font-column-header);\n    padding: var(--padding-column-header);\n  }\n  .pg-cell-wrapper--column-header-active-time {\n    display: grid;\n    filter: brightness(1.3);\n    gap: 0;\n  }\n  .pg-cell--column-header {\n    align-items: center;\n    display: flex;\n    gap: 1rem;\n    justify-content: center;\n    min-width: 8rem;\n  }\n  .pg-cell-wrapper--data {\n    cursor: pointer;\n  }\n  .pg-cell-wrapper--data-empty {\n    background-color: var(--color-empty);\n  }\n  .pg-loading {\n    --color-loading-primary: steelblue;\n    --color-loading-secondary: white;\n    --size-loader: 5rem;\n    height: 10rem;\n    width: 100%;\n    position: relative;\n    z-index: 1;\n  }\n  .pg-loading:before,\n  .pg-loading:after {\n    bottom: 0;\n    border-radius: 50%;\n    content: '';\n    display: block;\n    left: 0;\n    margin: auto;\n    position: absolute;\n    right: 0;\n    top: 0;\n    z-index: 2;\n  }\n  @keyframes spin {\n    from { transform: rotate(0deg); }\n    to { transform: rotate(359deg); }\n  }\n  .pg-loading:before {\n    animation: spin 1s linear infinite;\n    background-image: conic-gradient(var(--color-loading-primary), var(--color-loading-secondary));\n    border: 0.4rem solid var(--color-loading-primary);\n    height: var(--size-loader);\n    width: var(--size-loader);\n    z-index: 1;\n  }\n  .pg-loading:after {\n    background-color: var(--color-loading-primary);\n    border: 0 solid;\n    height: calc(var(--size-loader) - 1rem);\n    width: calc(var(--size-loader) - 1rem);\n    z-index: 2;\n  }\n  .pg-favorite-icon {\n    font-size: 2rem;\n    font-style: normal;\n    line-height: 2rem;\n  }\n  .pg-more-icon {\n    background-color: var(--color-header);\n    border: 0.8rem solid var(--color-header-content);\n    display: block;\n    position: relative;\n    vertical-align: middle;\n    z-index: 0;\n  }\n  .pg-more-icon,\n  .pg-more-icon:before,\n  .pg-more-icon:after {\n    border-radius: 50%;\n    height: 0.4rem;\n    width: 0.4rem;\n  }\n  .pg-more-icon:before,\n  .pg-more-icon:after {\n    background-color: var(--color-header);\n    border: 0 solid;\n    content: '';\n    display: block;\n    position: absolute;\n    top: 0;\n    z-index: 1;\n  }\n  .pg-more-icon:before {\n    left: -0.5rem;\n  }\n  .pg-more-icon:after {\n    right: -0.5rem;\n  }\n  .pg-dialog {\n    background-color: var(--color-header);\n    bottom: 0;\n    border: 0 solid;\n    border-radius: 0.5rem;\n    box-shadow: 0 0 1rem rgba(0, 0, 0, 0.5);\n    box-sizing: border-box;\n    color: var(--color-header-content);\n    height: max-content;\n    left: 0;\n    margin: auto;\n    max-height: 100vh;\n    max-width: 40rem;\n    min-height: 40rem;\n    position: fixed;\n    right: 0;\n    top: 0;\n    width: calc(100% - 0.5rem);\n    z-index: 2;\n  }\n  .pg-dialog-header {\n    display: grid;\n    grid-template-columns: 1fr auto;\n  }\n  .pg-dialog-title {\n    margin: 0;\n  }\n  .pg-dialog-details {\n    padding-top: 1rem;\n  }\n  .pg-dialog-select {\n    border: 0 solid;\n    border-radius: 0.3rem;\n    padding: 0.5rem;\n  }\n  .pg-dialog-close {\n    align-items: center;\n    background-color: var(--color-header-content);\n    border: 0 solid;\n    border-radius: 50%;\n    color: var(--color-header);\n    cursor: pointer;\n    display: flex;\n    height: 2rem;\n    justify-content: center;\n    width: 2rem;\n  }\n  .pg-close-icon {\n    height: 100%;\n    display: block;\n    position: relative;\n    width: 100%;\n  }\n  .pg-close-icon:before,\n  .pg-close-icon:after {\n    background-color: var(--color-header);\n    bottom: 0;\n    content: '';\n    display: block;\n    height: 1.3rem;\n    left: 0;\n    margin: auto;\n    position: absolute;\n    right: 0;\n    top: 0;\n    width: 0.2rem;\n  }\n  .pg-close-icon:before {\n    transform: rotate(45deg);\n  }\n  .pg-close-icon:after {\n    transform: rotate(-45deg);\n  }\n  .pg-dialog-menu {\n    display: grid;\n    gap: 0.5rem;\n    margin: 0 auto;\n    max-width: 30rem;\n    padding: 2rem 2rem 0;\n  }\n  .pg-dialog-menu-title {\n    width: max-content;\n    margin: 0 auto;\n  }\n  .pg-search-input,\n  .pg-search-button,\n  .pg-dialog-menu-item {\n    align-items: center;\n    background-color: var(--color-cell);\n    border: none;\n    box-shadow: 0 0 1.2rem rgba(0, 0, 0, 0.5);\n    color: var(--color-content);\n    cursor: pointer;\n    display: flex;\n    gap: 0.5rem;\n    justify-content: center;\n    padding: 1rem 0.5rem;\n  }\n  .pg-search-input,\n  .pg-dialog-menu-item--input,\n  .pg-dialog-menu-input {\n    cursor: text;\n  }\n  .pg-search-input,\n  .pg-search-button {\n    padding: 0.5rem 1rem;\n  }\n  .pg-search-input {\n    min-width: 0;\n  }\n  .pg-dialog-menu-input {\n    background-color: transparent;\n    border: none;\n  }\n  .pg-dialog-menu-special-item {\n    display: grid;\n    gap: 0.5rem;\n    grid-template-columns: 2fr 1fr;\n  }\n  .pg-dialog-body {\n    display: grid;\n    grid-auto-rows: auto;\n    grid-template-rows: auto minmax(0, 1fr);\n    height: 100%;\n    max-height: calc(100vh - 2rem);\n    min-height: 38rem;\n    position: relative;\n  }\n  .pg-dialog-body:before,\n  .pg-dialog-body:after {\n    content: '\\02771';\n    color: var(--color-header);\n    display: inline-block;\n    font-size: 3rem;\n    height: 3rem;\n    left: 0;\n    line-height: 3rem;\n    margin: auto;\n    position: absolute;\n    right: 0;\n    width: 3rem;\n  }\n  .pg-dialog-body:before {\n    top: 1rem;\n    transform: rotate(-90deg);\n  }\n  .pg-dialog-body:after {\n    bottom: -1.8rem;\n    transform: rotate(90deg);\n  }\n  .pg-dialog-content {\n    overflow: auto;\n    padding-bottom: 2rem;\n  }\n  .pg-dialog-content--text-container,\n  .pg-dialog-footer {\n    background-color: var(--color-cell);\n    border: 0 solid;\n    border-radius: 0.5rem;\n    color: var(--color-content);\n    margin: 2rem 0 0;\n    text-align: center;\n  }\n  .pg-dialog-content--text-container:after {\n    background-image: linear-gradient(transparent, var(--color-cell) 90%);\n    bottom: -2rem;\n    content: '';\n    display: block;\n    height: 4rem;\n    left: 0;\n    position: sticky;\n    width: 100%;\n  }\n  .pg-dialog-paragraph {\n    margin: 0;\n    padding: 1rem;\n  }\n  .pg-time {\n    display: inline-block;\n    font-weight: bold;\n  }\n  .pg-dialog-footer {\n    padding: 1rem;\n  }\n  @media (max-width: ${e}) {\n    .pg-cell-wrapper--column-header,\n    .pg-cell-wrapper--data,\n    .pg-cell-wrapper--data-empty,\n    .pg-cell-wrapper--corner-collapsed .pg-corner-text {\n      display: none;\n    }\n    .pg-cell-wrapper--column-header-active,\n    .pg-cell-wrapper--column-header-time,\n    .pg-cell-wrapper--data-active,\n    .pg-cell-wrapper--data-time,\n    .pg-cell-wrapper--data-favorite,\n    .pg-cell-wrapper--data-search,\n    .pg-cell-wrapper--data-empty-time,\n    .pg-cell-wrapper--data-empty-active {\n      display: revert;\n      min-width: 0;\n    }\n    .pg-cell--data {\n      margin: 0;\n    }\n    .pg-cell--data-search,\n    .pg-cell--data-favorite {\n      margin: auto;\n    }\n    .pg-cell-wrapper--corner,\n    .pg-cell-wrapper--row-header-time,\n    .pg-cell-wrapper--row-header-time:after {\n      transition: all 0.5s;\n    }\n    .pg-cell-wrapper--row-header-time {\n      cursor: pointer;\n    }\n    .pg-cell-wrapper--row-header-time:after {\n      bottom: 0;\n      content: '\\25C0';\n      display: inline-block;\n      font-size: 1rem;\n      height: 1rem;\n      margin: auto;\n      position: absolute;\n      right: 0;\n      top: 0;\n    }\n    .pg-cell-wrapper--corner-collapsed,\n    .pg-cell-wrapper--row-header-collapsed {\n      left: -9.5rem;\n    }\n    .pg-cell-wrapper--row-header-collapsed:after {\n      transform: rotate(180deg);\n    }\n    .pg-cell-wrapper--corner-collapsed {\n      padding-right: 0;\n    }\n    .pg-cell-wrapper--corner-collapsed .pg-cell--corner {\n      grid-template-columns: auto;\n      justify-content: right;\n    }\n  }\n`)(a||d);if(e){const e=document.createElement("template");return e.innerHTML=`\n        <style>${r}</style>\n        <div class="pg-loading"></div>\n      `,n.root.appendChild(e.content.cloneNode(!0)),!0}const o={location:A,time:I,allTime:I,now:I,nowOnly:I,favorites:M,search:_}[n.sortBy],l=document.createElement("template");return l.innerHTML=`\n      <style>${r}</style>\n      ${(({currentSearch:e})=>`\n  <form class="pg-search-bar" onsubmit="${x("search")}">\n    <input class="pg-search-input" onchange="${x("changeSearch")}" placeholder="Search events ..." value="${e}" />\n    <button class="pg-search-button"><i class="pg-search-icon" title="Search"></i></button>\n  </form>\n`)(n)}\n      ${o(n)}\n      ${(({sortDialogOpen:e,locations:n,times:t,activeDay:a,activeTime:r,dataset:o})=>{const{breakpoint:l=d}=o,i=!window.matchMedia(`(max-width: ${l})`).matches,{days:c,interval:p}=t||s,g=e=>e.toLocaleTimeString([],{hour12:!1,timeStyle:"short"}),m=g(r),h=c[a],u=g(h[0].date),v=g(h[h.length-1].date),f=60*p;return`\n    <dialog class="pg-dialog" ${e?"open":""}>\n      <section class="pg-dialog-body">\n        <header class="pg-dialog-header">\n          <h1 class="pg-dialog-title">Options</h1>\n          <button class="pg-dialog-close" title="Close" onclick="${x("toggleSortDialog",!1)}"><i class="pg-close-icon" title="Close"></i></button>\n        </header>\n        <section class="pg-dialog-content">\n          <menu class="pg-dialog-menu">\n            <button class="pg-dialog-menu-item" onclick="${x("selectSortBy","favorites")}">\n              <i class="pg-favorite-icon" title="View Favorites">&starf;</i>\n              <span>View Favorites</span>\n            </button>\n          </menu>\n          <menu class="pg-dialog-menu">\n            <h2 class="pg-dialog-menu-title">Which day?</h2>\n            <select class="pg-dialog-select" onchange="${x("selectActiveDay")}">\n              ${b(Object.keys(c),(e=>`\n                <option value="${e}" ${e===a?"selected":""}>${e}</option>\n              `))}\n            </select>\n          </menu>\n          <menu class="pg-dialog-menu">\n            <h2 class="pg-dialog-menu-title">Time</h2>\n            <button class="pg-dialog-menu-item" onclick="${x("selectSortBy","allTime")}">All Time</button>\n            <button class="pg-dialog-menu-item" onclick="${x("selectSortBy","now")}">Right Now &amp; On</button>\n            <button class="pg-dialog-menu-item" onclick="${x("selectSortBy","nowOnly")}">Right Now Only</button>\n            <div class="pg-dialog-menu-special-item">\n              <div class="pg-dialog-menu-item pg-dialog-menu-item--input">\n                <input\n                  type="time"\n                  class="pg-dialog-menu-input"\n                  value="${m}"\n                  min="${u}"\n                  max="${v}"\n                  step="${f}"\n                  onchange="${x("selectActiveTime")}"\n                />\n                <span>&amp; On</span>\n              </div>\n              <button class="pg-dialog-menu-item" onclick="${x("selectSortBy","time")}">Go &roarr;</button>\n            </div>\n          </menu>\n          <menu class="pg-dialog-menu">\n            <h2 class="pg-dialog-menu-title">Location</h2>\n            ${i?`<button class="pg-dialog-menu-item" onclick="${x("selectSortBy","location")}">All Locations</button>`:b(n,(e=>`\n                <button class="pg-dialog-menu-item" onclick="${x("selectActiveLocation",e)}">${e}</button>\n              `))}\n          </menu>\n        </section>\n      </section>\n    </dialog>\n  `})(n)}\n      ${(({eventDialogOpen:e,favorites:n,activeEvent:t})=>{const a=n.find((({location:e,start:n,name:a})=>{const{location:r,start:o,name:l}=t;return e===r&&Number(new Date(n))===Number(o)&&a===l})),r=a?"removeFavorite":"addFavorite",o=a?"Remove from Favorites":"Add to Favorites";return`\n    <dialog class="pg-dialog" ${e?"open":""}>\n      <article class="pg-dialog-body">\n        <header class="pg-dialog-header">\n          <h1 class="pg-dialog-title">${t.name}</h1>\n          <button class="pg-dialog-close" onclick="${x("closeEventDialog")}"><i class="pg-close-icon" title="Close"></i></button>\n        </header>\n        <section class="pg-dialog-content pg-dialog-content--text-container">\n          ${b(t.description.split(/\n/),(e=>`\n            <p class="pg-dialog-paragraph">${e}</p>\n          `))}\n        </section>\n        <footer class="pg-dialog-footer">\n          <time datetime="${t.start.toISOString()}" class="pg-time pg-time--start">\n            ${t.start.toLocaleTimeString("en-US",{timeStyle:"short"})}\n          </time>\n          to\n          <time datetime="${t.end.toISOString()}" class="pg-time pg-time--end">\n            ${t.end.toLocaleTimeString("en-US",{timeStyle:"short"})}\n          </time>\n          <div>@ ${t.location}</div>\n          <div class="pg-dialog-details">\n            <div><strong>Hosted by:</strong> <span>${t.host}</span></div>\n            <div><strong>Category:</strong> <span>${t.category}</span></div>\n          </div>\n        </footer>\n        <section class="pg-dialog-content">\n          <menu class="pg-dialog-menu">\n            <button class="pg-dialog-menu-item" onclick="${x(r,t)}">\n              <span>${o}</span>\n              <i class="pg-favorite-icon" title="${o}">&starf;</i>\n            </button>\n          </menu>\n        </section>\n      </article>\n    </dialog>\n  `})(n)}\n    `,n.root.appendChild(l.content.cloneNode(!0)),!0}}return{...E,Components:Object.freeze({__proto__:null,ProgramGuideNative:R})}}));